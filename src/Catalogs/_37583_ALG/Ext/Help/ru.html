<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta><link href="v8help://service_book/service_style" type="text/css" rel="stylesheet"></link><meta content="MSHTML 6.00.6002.18005" name="GENERATOR"></meta></head><body>
<div id="V8TopicArea">
<table class="V8TitleTable" cellspacing="0"><tbody><tr id="hdr"><td>Расширение "Алгоритмы"</td>
<td class="V8Product" nowrap="nowrap"><a href="http://www.v8.1c.ru/">1С:Предприятие 8</a></td></tr></tbody></table><div id="V8TopicString">
<h1 class="V8TopicText">Операции с алгоритмами</h1></div></div>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px" valign="bottom">
<p><a href="#UseCase">Варианты использования</a> <br><a href="#_Server">Порядок выполнения</a> <br><a href="#_Client">Основные настройки </a><br><a href="#_commands">Подключение команд</a> <br><a href="#_reglament">Подключение регламентного задания</a> <br><a href="#_httpserv">Подключение  Http  сервиса</a> </p></blockquote>
<h2 valign="bottom"><a name="UseCase">Варианты использования</a></h2>
<div valign="bottom"><br>- выполнение на сервере <br>- выполнение на сервере с возвратом значения</div>
<div valign="bottom">- выполнение на сервере с кэшированием возвращаемого значения</div>
<div valign="bottom">- выполнение на клиенте <br>- выполнение на клиенте с возвратом значения <br>- выполнение  регламентного задания на сервере <br>- обработка http запроса на сервере <br>- обработка команды объекта конфигурации  на клиенте  или  на сервере</div>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px" valign="bottom">
<p><font face="Courier New"></font></p></blockquote>
<p valign="bottom"></p>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px" valign="bottom">
<p><font face="Courier New"></font></p></blockquote>
<h2 valign="bottom">Порядок выполнения </h2>
<p><br>Вариант На Сервере: <br>1.  вызов метода общего модуля  _37583_АлгоритмыСервер.ВыполнитьПроцедуру  или   _37583_АлгоритмыСервер.ВыполнитьФункцию   <br> параметры метода - ПредставлениеАлгоритма, Параметры(Структура) <br>2. инициализация  объекта справочника алгоритмы  по его представлению (Ссылка, GUID, СтрокаGUID,Наименование,Код)   с передачей  управления в модуль объекта <br>3. инициализация локальных переменных ,   извлечение (если требуется)  параметров из хранилища  и сопоставление с передаными параметрами   <br>4. подстановка кода алгоритма  в параметры <br>5. выполнение декораторов <br>6. применение настроек и выполнение алгоритма <br><br>Вариант На Клиенте: <br>1.  вызов метода общего модуля  _37583_АлгоритмыКлиент.ВыполнитьПроцедуру  или   _37583_АлгоритмыКлиент.ВыполнитьФункцию   <br> параметры метода - ПредставлениеАлгоритма, Параметры(Структура) <br>2. инициализация   справочника алгоритмы  по его представлению <br>3.  извлечение свойств  алгоритма  и (если требуется)  параметров из хранилища   <br>4. применение настроек и выполнение алгоритма <br></p>
<h2 valign="bottom"><a name="_Client">Настройки</a></h2>
<p valign="bottom">Кэшировать -  значения  , которые возвращает алгоритм-функция  кэшируются на время сеанса</p>
<p valign="bottom">Выполнить в транзакции -  алгоритм выполняется в транзакции , исключения записываются в журнал</p>
<p valign="bottom"></p>
<p valign="bottom">Размер стека  -  используется   при обратном вызове  , для ограничения  числа итераций ( по умолчанию  = 0 ,  т.е алгоритм может быть выполнен  не более 1 раза  в  локальном контексте)</p>
<h2 valign="bottom"><a name="_commands">Команды объектов</a></h2>
<div><a name="_commands"><br></a></div>
<div><a name="_commands"><u>ПОДКЛЮЧАЕМЫЕ КОМАНДЫ БСП </u></a></div>
<div><a name="_commands"><br></a></div>
<p valign="bottom"><font face="Courier New"><font face="Verdana"><span class="tx">Для  выполнения команды доступны следующие переменные:</span></font></font></p>
<p valign="bottom"><font face="Courier New"><font face="Verdana"><span class="tx">Параметры.ВыбранныеОбъекты</span></font></font></p>
<p valign="bottom"><font face="Courier New"><font face="Verdana"><span class="tx">Параметры.ПараметрКоманды   // Ссылка</span></font></font></p>
<p valign="bottom"><font face="Courier New"><font face="Verdana"><span class="tx"> Параметры.ПараметрВыполненияКоманды  // Структура </span></font></font></p>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px" valign="bottom">
<p><font face="Courier New"><font face="Verdana"><span class="tx">Параметры.ПараметрВыполненияКоманды.Источник  // ДанныеФормыСтруктура </span></font></font></p>
<p><font face="Courier New"><font face="Verdana"><span class="tx">Параметры.ПараметрВыполненияКоманды.МассивСсылок  // Массив</span></font></font></p>
<p><font face="Courier New"><font face="Verdana"><span class="tx">Параметры.ПараметрВыполненияКоманды.ОписаниеКоманды  // Структура </span></font></font></p>
<p><font face="Courier New"><font face="Verdana"><span class="tx">Параметры.ПараметрВыполненияКоманды.ТребуетсяЗапись   // Булево</span></font></font></p>
<p><font face="Courier New"><font face="Verdana"><span class="tx">Параметры.ПараметрВыполненияКоманды.ТребуетсяОпределитьСсылки  // Булево </span></font></font></p>
<p><font face="Courier New"><font face="Verdana"><span class="tx">Параметры.ПараметрВыполненияКоманды.ТребуетсяПроведение   // Булево </span></font></font></p>
<p><font face="Courier New"><font face="Verdana"><span class="tx">Параметры.ПараметрВыполненияКоманды.ТребуетсяРаботаСФайлами   // Булево </span></font></font></p>
<p><font face="Courier New"><font face="Verdana"><span class="tx">Параметры.ПараметрВыполненияКоманды.ЭтоФормаОбъекта   // Булево </span></font></font></p>
<p><font face="Courier New"><font face="Verdana"><span class="tx">Параметры.ПараметрВыполненияКоманды.Форма  // УправляемаяФорма // </span></font></font></p>
<p><font face="Courier New"><font face="Verdana"><span class="tx"> <font color="#006400">Если у алгоритма  есть  признак "НаКлиенте" и  у команды  есть признак "открыть форму" :  </font></span></font></font><font face="Courier New"><font face="Verdana"><span class="tx"><font color="#006400">ВыбранныеОбъекты, Форма </font></span></font></font></p>
<p><font face="Courier New"><font face="Verdana"><span class="tx"><font color="#006400"><span class="tx"><font color="#0000cd"> Если у алгоритма  есть  признак "НаКлиенте" и  у команды  и отсутствует признак "открыть форму" :  </font></span><font face="Courier New"><font face="Verdana"><span class="tx"><font color="#006400"><font color="#0000cd">ВыбранныеОбъекты, ПараметрКоманды, ПараметрВыполненияКоманды</font></font></span></font></font></font></span></font></font></p></blockquote><a name="_commands"><u>ПОДКЛЮЧАЕМЫЕ КОМАНДЫ (РАСШИРЕНИЕ)</u></a>
<div><a name="_commands"><u><br></u></a></div>
<div>
<p valign="bottom"><font face="Courier New"><font face="Verdana">Для  выполнения команды доступны следующие переменные:</font></font></p>
<p valign="bottom"><font face="Courier New"><font face="Verdana">Параметры.Источник  </font></font><span style="font-family: Verdana;">// ДанныеФормыСтруктура</span></p>
<p valign="bottom"><font face="Courier New"><font face="Verdana">Параметры.</font></font><span style="font-family: Verdana;"> Форма</span><font face="Courier New"><font face="Verdana">  </font></font><span style="font-family: Verdana;">// </span><span style="font-family: Verdana;">УправляемаяФорма</span></p>
<p valign="bottom"><span style="color: rgb(165, 42, 42); font-family: Verdana;">Все команды доступны только  </span><span style="color: rgb(165, 42, 42); caret-color: rgb(0, 100, 0); font-family: Verdana;">НаКлиенте</span></p>
<p valign="bottom"><span style="caret-color: rgb(0, 100, 0); font-family: Verdana;">Для подключения команды в форме должны быть определен реквизит формы </span><font face="Verdana"><span style="caret-color: rgb(0, 100, 0);">ПараметрыПодключаемыхКоманд (Произвольный)</span></font></p>
<p valign="bottom"><span style="caret-color: rgb(0, 100, 0); font-family: Verdana;">и следующие процедуры:</span></p>
<p valign="bottom"><span style="caret-color: rgb(0, 100, 0); color: rgb(0, 0, 205); font-family: Verdana;">&amp;НаСервере</span></p>
<p valign="bottom"><font color="#0000cd" face="Verdana"><span style="caret-color: rgb(0, 100, 0);">Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)</span></font></p>
<div>....</div>
<div><br></div>
<div>
<div><font color="#0000cd">_37583_ПодключаемыеКомандыИОбработчики.ПриСозданииНаСервере(ЭтотОбъект);</font></div></div>
<div><font color="#0000cd"><br></font></div>
<div><font color="#0000cd">.....   </font></div>
<div><br></div>
<p valign="bottom"><span style="caret-color: rgb(0, 100, 0); font-family: Verdana;">// ---------------------------------</span></p>
<p valign="bottom"><font face="Verdana" color="#0000cd"><span style="caret-color: rgb(0, 100, 0);">&amp;НаКлиенте</span></font></p>
<p valign="bottom"><font face="Verdana" color="#0000cd"><span style="caret-color: rgb(0, 100, 0);">Процедура _37583_ВыполнитьКоманду(Команда) Экспорт</span></font></p>
<p valign="bottom"><font color="#0000cd"><span class="Apple-tab-span" style="caret-color: rgb(0, 100, 0); font-family: Verdana; white-space: pre;">	</span><span style="caret-color: rgb(0, 100, 0); font-family: Verdana;">_37583_АлгоритмыКлиент.ВыполнитьКоманду(ЭтотОбъект, Команда, Объект);</span></font></p>
<p valign="bottom"><span style="caret-color: rgb(0, 100, 0); font-family: Verdana;"><font color="#0000cd">КонецПроцедуры</font></span></p>
<div><br></div>
<p valign="bottom"><span style="font-family: Verdana;"><br></span></p><blockquote dir="ltr" style="MARGIN-RIGHT: 0px" valign="bottom">
<p><font face="Courier New"><font face="Verdana"><span class="tx"><font color="#006400"> </font><br></span></font></font></p></blockquote>
<h2 valign="bottom"><a name="_reglament">Регламентнтные задания</a></h2>
<p valign="bottom"> Для подключения регламентных заданий необходимо наличие БСП 3+</p>
<p valign="bottom">значение реквизита  РегламентноеЗадание  должено быть  Истина</p>
<p>Подключение выполняется с помощью  внешней обработки _37583_ВнешняяОбработкаОбновитьРегламентныеЗадания,  через  стандартный  интерфейс подключения дополнительных обработок<br></p>
<h2 valign="bottom"><a name="_httpserv">Http сервис</a></h2>
<p valign="bottom">если заполнен реквизит - <font face="Courier New">ИдентификаторHTTP (<u><font color="#0000ff">test</font></u>)  </font></p>
<p valign="bottom"><code>формат адреса - http://hostname/basename/hs/alg_37583/test?parametr=value</code></p>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px" valign="bottom"><br><hr></hr></blockquote>
<div class="V8Cellar" valign="bottom">
<p><a href="http://www.1c.ru/"></a> </p><br></div></div></body></html>